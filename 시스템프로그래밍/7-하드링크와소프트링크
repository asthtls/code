# 2020 03 30
# 시스템 프로그래밍

# 하드링크 소프트 링크

cp 명령: 파일 복사

하드 링크: ln A B
    -A와 B는 동일한 10MB 파일을 가리킴
    -즉, 동일한 파일을 가진 이름을 하나 더 만든 것
        --그래서,inode는 동일
        --전체 파일 용량은 달라지지 않음
        --inode 구조체 또한 같음 == 전부 같음
    -ls -i : 파일 inode 확인
    -ls -al : 완전 동일한 파일
    -rm A 로 A를 삭제하면? B는 그래도 해당 파일 접근 가능
        --A:해당 inode 이 정보만 삭제되고 , inode를 가진 실제 파일은 그대로 남음

-cp는 inode 구조체를 복사한 또 하나의 구조체를 가지고 있다.

하드링크는 같은 구조체를 가지고 있으므로 내용을 변경하면 바로 적용 = 같은 파일


하드링크 쓰임
*저장매체가 20gb일 경우 파일이 10gb. = cp로 하면 10gb 추가로 늘어나 20gb가 다 차버린다. 하지만 hardlink의 경우에는 10gb그대로
*하드링크의 경우에도 파일의 내용을 수정하면 원본또한 수정 == 하드링크로 만든 모든 파일은 전부 원본이라고 생각 

소프트 링크: ln -s A B 
-windows os의 바로가기와 동일
-ls -al 하면, 소프트 링크 확인 가능

*소프트링크도 원본파일 변경시 링크 연결되있는 내용도 변한다.
-inode 값은 다르다.

특수 파일
-디바이스
    --블록 디바이스(block device) - 저장매체 - 1byte 단위
    :hdd,cd/dvd와 같이 블록 또는 섹터 등 정해진 단위로 데이터 전송, IO 송수신 속도가 높음
    --캐릭터 디바이스(character device)
    :키보드,. 마우스등 byte 단위 데이터 전송, io 송수신 속도가 낮음
    --cd/dve, cat tty


정리
-파일 추상화 인터페이스를 활용 다양한 데이터/디바이스 접근
-파일 네임스페이스는 전역 네임스페이스 활용 (/media/floofy/dave.jpg)
-파일이름 :inode로 매칭, 파일 시스템은 inode 기반 접근
-하드 링크: 동일 inode 가리키는 파일 이름만 하나 더 만듬
-소프트 링크: 특정 파일 바로가기 파일을 만듬
-ln 명령 알아두기
-특수 파일 : 블록/ 캐릭터 디바이스
